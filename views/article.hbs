<!-- Page content-->
<div class="container mt-5">
    <div class="row">
        <div class="col-lg-8">
            <!-- Post content-->
            <article>
                <!-- Post header-->
                <header class="mb-4">

                    <!-- Post title-->
                    <h1 class="fw-bolder mb-1">{{article.title}}</h1>

                    <!-- Post meta content-->
                    <div class="text-muted fst-italic mb-2">Posted on {{getLocalDateString article.date}} by {{article.author}}</div>

                    <!-- Post Tags-->
                    {{#each article.tags}}
                        <a class="badge bg-secondary text-decoration-none text-capitalize link-light" href="/blog?category={{this}}">{{this}}</a>
                    {{/each}}

                </header>

                <!-- Preview image figure-->
                <figure class="mb-5"><img class="img-fluid rounded" src={{article.imageURL}} alt={{article.imageDescription}} /></figure>

                <!-- Post content-->
                <section class="mb-5 fs-5 articleBody">
                    {{{article.body}}}
                </section>

            </article>

            <!-- Comments section-->
            <section class="mb-5">
                <div class="card bg-light">
                    <div class="card-body">

                        <!-- Comment form-->
                        <form class="mb-4" id="newCommentForm">
                            <textarea class="form-control" name='body' rows="3" placeholder="Join the discussion and leave a comment!"></textarea>
                            <div class="invalid-feedback"> </div>

                            <div class="button-wrapper text-end mt-2">
                                <button class="btn btn-primary" type="submit">Comment</button>
                            </div>

                        </form>

                        <div id="commentsContainer">

                            {{#each article.comments}}
                                {{> comment}}
                            {{/each}}

                        </div>

                    </div>
                </div>
            </section>
        </div>

<script defer src="/scripts/classes/SmartForm.js"></script>
<script defer src="/scripts/article.js"></script>